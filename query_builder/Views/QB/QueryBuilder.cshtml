<title>Untitled Document</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.css" rel="stylesheet" />
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/dragula/3.7.2/dragula.min.css" rel="stylesheet" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/jquery-contextmenu/2.6.3/jquery.contextMenu.css" rel="stylesheet" />
<link href="~/css/whereClause.css" rel="stylesheet" type="text/css" />
<link href="~/css/Home.css" rel="stylesheet" type="text/css" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js" type="text/javascript"></script>
<script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/dragula/3.7.2/dragula.min.js'></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery-contextmenu/2.6.3/jquery.contextMenu.js"></script>
<script src="~/js/Home.js" type="text/javascript"></script>
<script src="~/js/whereClause.js" type="text/javascript"></script>
<script src="~/js/Sort.js" type="text/javascript"></script>
<script src="~/js/connectingLine.js" type="text/javascript"></script>
<script src="~/js/connectSVG.js" type="text/javascript"></script>
<script src="~/js/jquerySVGmin.js" type="text/javascript"></script>
<script src="~/js/QueryDisplay.js" type="text/javascript"></script>
<link rel="stylesheet" href="~/lib/codemirror/lib/codemirror.css">
<link rel="stylesheet" href="~/lib/codemirror/addon/hint/show-hint.css">
<link rel="stylesheet" href="~/lib/codemirror/addon/fold/foldgutter.css" />
<script src="~/lib/codemirror/lib/codemirror.js"></script>
<script src="~/lib/codemirror/addon/hint/show-hint.js"></script>
<script src="~/lib/codemirror/addon/hint/javascript-hint.js"></script>
<script src="~/lib/codemirror/mode/javascript/javascript.js"></script>
<script src="~/lib/codemirror/addon/hint/sql-hint.js"></script>
<script src="~/lib/codemirror/mode/sql/sql.js"></script>
<script src="~/lib/codemirror/addon/fold/foldcode.js"></script>
<script src="~/lib/codemirror/addon/fold/foldgutter.js"></script>
<script src="~/lib/codemirror/addon/fold/brace-fold.js"></script>
<script src="~/lib/codemirror/addon/fold/xml-fold.js"></script>
<script src="~/lib/codemirror/addon/fold/comment-fold.js"></script>
<script src="~/lib/codemirror/mode/xml/xml.js"></script>

<script>
    var databaseObject = @Html.Raw(ViewBag.dict);
    var editObject = @Html.Raw(ViewBag.text);

    console.log(databaseObject);
</script>
<body>
    <div class="container-fluid builder-window">
        <div class="row builder-window-row">
            <div class="col-lg-2 col-md-2 col-sm-2 col-xs-12 Builder-toolbox">
                <button type="button" class="btn btn-xs btn-success" data-target="#myModal" data-toggle="modal">SAVE</button>
                <br />
                <br />
                <br />
                <div id="tables-cont"></div>
                <ul id="column-cont"></ul>
                <div id="dragula-tables-cont"></div>
                <ul id="dragula-column-cont"></ul>
            </div>
            <div class="col-lg-10 col-md-10 col-sm-10 col-xs-12 Builder-work-pane pd-0">
                <ul class="nav nav-tabs" role="tablist">
                    <li class="active"><a href="#Design" aria-controls="home" role="tab" data-toggle="tab">Design</a></li>
                    <li><a href="#Condition" aria-controls="Condition" role="tab" data-toggle="tab">Condition</a></li>
                    <li><a href="#Query" aria-controls="Query" role="tab" data-toggle="tab">Query</a></li>
                </ul>
                <!-- Tab panes -->
                <div class="tab-content">
                    <div class="tab-pane active De" id="Design">
                        <div class="DesignPane drop" id="designpane" style="height:700px;width:100%">

                        </div>
                        <div class="col-sm-2 sortfunction sortfunction">

                        </div>
                    </div>
                    <div class="tab-pane condition-tab" id="Condition">
                        <div class="conditiong-gp-container" id="groupBox0">
                            <div class="ConditionPanes-header conditiong-gp-container-header form-inline">
                                <div class="btn-group btn-toggle where-toggle">
                                    <button class="btn btn-sm btn-default grpAndOrBtn" value="AND">AND</button>
                                    <button class="btn btn-sm btn-default grpAndOrBtn active" value="OR">OR</button>
                                </div>
                                <div class="pull-right" id="saveError"></div>
                                <div class="btn-group where-btns pull-right rule-actions">
                                    <button type="button" data-counter="0" class="btn btn-xs btn-success where-btn2 addGroup" id="group0"><i class="glyphicon glyphicon-plus-sign"></i>Group</button>
                                    <button type="button" class="btn btn-xs btn-success saveQuery">SAVE</button>
                                </div>
                            </div>
                            <div class="conditiong-gp-container-body" id="firstBody">

                            </div>
                        </div>
                    </div>
                    <div class="tab-pane QueryPane" id="Query">
                        <textarea id="QueryPane"></textarea>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" id="myModal" role="dialog">
            <div class="modal-dialog">

                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Save File</h4>
                    </div>
                    <div class="modal-body">

                        <div class="form-group">
                            <label>Name</label>
                            <input type="text" id="queryobj_name" name="Name" class="form-control fileNameText" />
                        </div>
                        <input type="hidden" id="json_input" name="Json" />

                    </div>
                    <div class="modal-footer">
                        <input type="button" id="save_queryobj" class="btn btn-default saveQB" value="Save" />
                    </div>
                </div>

            </div>
        </div>

    </div>

</body>
<script>
    var builder = new QueryBuilder(databaseObject, editObject);
   
</script>



